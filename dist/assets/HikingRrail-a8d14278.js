import{A as J,r as n,i as K,z as W,k as o,o as m,c as V,b,g as t,s,F as U,e as C,B as X,x as N,C as x,t as y}from"./index-a3bacf90.js";const Y={class:"text-right"},Z={class:"d-flex justify-start"},ee={class:"d-flex justify-start"},oe={__name:"HikingRrail",setup(le){const k=J(),B=n([{title:"北部",value:"N",active:!1},{title:"中部",value:"C",active:!1},{title:"南部",value:"S",active:!1},{title:"西部",value:"E",active:!1}]),c=n([]),T=n([{title:"1000",value:1e3},{title:"2000",value:2e3},{title:"3000",value:3e3},{title:"4000",value:4e3}]),v=n([]),$=n(["新手","入門","中級","高手"]),F=n([]),w=n(""),_=n([]),I=n(!1),p=n(0),g=n([]),q=n([{title:"國家森林遊樂區",value:0},{title:"自然步道",value:1},{title:"平地森林園區",value:2},{title:"林業文化園區",value:10},{title:"林業軌道",value:11},{title:"自然教育中心",value:3},{title:"生態教育館",value:12}]),i=K();W(()=>{i.loading.show({delay:400,message:"請稍等..."}),k.getQueryForest(c.value,v.value,p.value,g.value).then(l=>{i.loading.hide(),_.value=l.data}).catch(l=>console.log(l))});const D=l=>{const{scrollHeight:a,scrollTop:d,clientHeight:u}=l.target;d+u>=a&&(i.loading.show({delay:400,message:"請稍等..."}),setTimeout(()=>{p.value+=1,k.getQueryForest(c.value,v.value,p.value,g.value).then(f=>{_.value=_.value.concat(f.data),i.loading.hide()}).catch(f=>{i.loading.hide(),console.log(f)})},1e3))},j=(l,a,d)=>{l.active?(l.active=!1,d==="place"?c.value=c.value.filter(u=>u!==l.value):d==="height"&&(v.value=v.value.filter(u=>u!==l.value))):(l.active=!0,d==="place"?c.value.push(l.value):d==="height"&&v.value.push(l.value)),P()},P=()=>{p.value=0,i.loading.show({delay:400,message:"請稍等..."}),k.getQueryForest(c.value,v.value,p.value,g.value,w.value).then(l=>{_.value=l.data,i.loading.hide()}).catch(l=>console.log(l))};return(l,a)=>{const d=o("v-btn"),u=o("v-select"),f=o("v-text-field"),A=o("v-card-text"),H=o("v-card"),E=o("v-dialog"),Q=o("q-btn"),M=o("v-card-title"),R=o("v-img"),z=o("v-card-subtitle"),S=o("v-chip"),L=o("v-card-actions"),O=o("v-col"),G=o("v-row");return m(),V("div",null,[b("div",Y,[t(E,{modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value=e)},{activator:s(({props:e})=>[X("",!0)]),default:s(()=>[t(H,null,{default:s(()=>[t(A,null,{default:s(()=>[t(u,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),items:B.value,label:"區域",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(u,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),items:T.value,"item-title":"title","items-value":"value",label:"高度(m)",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(u,{modelValue:F.value,"onUpdate:modelValue":a[2]||(a[2]=e=>F.value=e),items:$.value,label:"難度",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(u,{modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e),items:q.value,label:"景點類型",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(f,{modelValue:w.value,"onUpdate:modelValue":a[4]||(a[4]=e=>w.value=e),label:"關鍵字"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b("div",Z,[(m(!0),V(U,null,C(B.value,(e,r)=>(m(),N(Q,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":h=>e.value=h,key:r,onClick:h=>j(e,r,"place"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),b("div",ee,[(m(!0),V(U,null,C(T.value,(e,r)=>(m(),N(Q,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":h=>e.value=h,key:r,onClick:h=>j(e,r,"height"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),b("div",{onScroll:D,class:"forest"},[t(G,{"no-gutters":"",class:"d-flex justify-space-between"},{default:s(()=>[(m(!0),V(U,null,C(_.value,(e,r)=>(m(),N(O,{class:"ma-2",key:r,cols:"12",sm:"12",md:"3"},{default:s(()=>[t(H,{class:"mx-auto"},{default:s(()=>[t(R,{src:`https://recreation.forest.gov.tw/${e.Photo}`,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",style:{"object-fit":"cover"},"min-height":"150","max-height":"150",cover:"",class:"bg-grey-lighten-2 align-end text-white"},{default:s(()=>[t(M,null,{default:s(()=>[x(y(e.Name),1)]),_:2},1024)]),_:2},1032,["src"]),t(z,{class:"pt-4"},{default:s(()=>[x(y(e.AdminName),1)]),_:2},1024),t(L,null,{default:s(()=>[t(S,null,{default:s(()=>[x(y(e.TypName),1)]),_:2},1024),t(S,{class:"ma-2",color:"red","text-color":"white"},{default:s(()=>[x(y(e.OpenText),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})],32)])}}};export{oe as default};
