import{u as W}from"./forest-c365008f.js";import{h as n,x as X,j as Y,r as a,o as m,c as b,e as t,w as s,d as _,F as y,a as N,C as Z,b as j,D as w,t as k}from"./index-f5966239.js";const ee={class:"d-flex flex-column fill-height justify-center align-center text-white"},le=_("h1",{class:"text-h4 font-weight-thin mb-4"},"自然步道",-1),te={style:{"max-width":"1250px"},class:"mx-auto"},ae={class:"text-right"},oe={class:"d-flex justify-start"},se={class:"d-flex justify-start"},ve={__name:"HikingRrail",setup(ne){const U=W(),T=n([{title:"北部",value:"N",active:!1},{title:"中部",value:"C",active:!1},{title:"南部",value:"S",active:!1},{title:"西部",value:"E",active:!1}]),u=n([]),B=n([{title:"1000",value:1e3},{title:"2000",value:2e3},{title:"3000",value:3e3},{title:"4000",value:4e3}]),c=n([]),q=n(["新手","入門","中級","高手"]),F=n([]),C=n(""),p=n([]),I=n(!1),h=n(0),g=n([]),D=n([{title:"國家森林遊樂區",value:0},{title:"自然步道",value:1},{title:"平地森林園區",value:2},{title:"林業文化園區",value:10},{title:"林業軌道",value:11},{title:"自然教育中心",value:3},{title:"生態教育館",value:12}]),v=X();Y(()=>{v.loading.show({delay:400,message:"請稍等..."}),U.getQueryForest(u.value,c.value,h.value,g.value).then(l=>{v.loading.hide(),p.value=l.data}).catch(l=>console.log(l))});const E=l=>{const{scrollHeight:o,scrollTop:i,clientHeight:d}=l.target;i+d>=o&&(v.loading.show({delay:400,message:"請稍等..."}),setTimeout(()=>{h.value+=1,U.getQueryForest(u.value,c.value,h.value,g.value).then(x=>{p.value=p.value.concat(x.data),v.loading.hide()}).catch(x=>{v.loading.hide(),console.log(x)})},1e3))},H=(l,o,i)=>{l.active?(l.active=!1,i==="place"?u.value=u.value.filter(d=>d!==l.value):i==="height"&&(c.value=c.value.filter(d=>d!==l.value))):(l.active=!0,i==="place"?u.value.push(l.value):i==="height"&&c.value.push(l.value)),P()},P=()=>{h.value=0,v.loading.show({delay:400,message:"請稍等..."}),U.getQueryForest(u.value,c.value,h.value,g.value,C.value).then(l=>{p.value=l.data,v.loading.hide()}).catch(l=>console.log(l))};return(l,o)=>{const i=a("v-divider"),d=a("v-parallax"),x=a("v-btn"),V=a("v-select"),M=a("v-text-field"),R=a("v-card-text"),Q=a("v-card"),A=a("v-dialog"),S=a("q-btn"),L=a("v-card-title"),O=a("v-img"),z=a("v-card-subtitle"),$=a("v-chip"),G=a("v-card-actions"),J=a("v-col"),K=a("v-row");return m(),b(y,null,[t(d,{scale:"1.1",height:"400",src:"https://templates.themekit.dev/alpins/media/hd-3.jpg"},{default:s(()=>[_("div",ee,[le,t(i,{thickness:3,class:"ma-4 w-50"})])]),_:1}),_("div",te,[_("div",ae,[t(A,{modelValue:I.value,"onUpdate:modelValue":o[5]||(o[5]=e=>I.value=e)},{activator:s(({props:e})=>[Z("",!0)]),default:s(()=>[t(Q,null,{default:s(()=>[t(R,null,{default:s(()=>[t(V,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),items:T.value,label:"區域",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(V,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),items:B.value,"item-title":"title","items-value":"value",label:"高度(m)",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(V,{modelValue:F.value,"onUpdate:modelValue":o[2]||(o[2]=e=>F.value=e),items:q.value,label:"難度",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(V,{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=e=>g.value=e),items:D.value,label:"景點類型",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(M,{modelValue:C.value,"onUpdate:modelValue":o[4]||(o[4]=e=>C.value=e),label:"關鍵字"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_("div",oe,[(m(!0),b(y,null,N(T.value,(e,r)=>(m(),j(S,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,key:r,onClick:f=>H(e,r,"place"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),_("div",se,[(m(!0),b(y,null,N(B.value,(e,r)=>(m(),j(S,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":f=>e.value=f,key:r,onClick:f=>H(e,r,"height"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),_("div",{onScroll:E,class:"forest"},[t(K,{"no-gutters":"",class:"d-flex justify-space-between"},{default:s(()=>[(m(!0),b(y,null,N(p.value,(e,r)=>(m(),j(J,{class:"ma-2",key:r,cols:"12",sm:"12",md:"3"},{default:s(()=>[t(Q,{class:"mx-auto"},{default:s(()=>[t(O,{src:`https://recreation.forest.gov.tw/${e.Photo}`,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",style:{"object-fit":"cover"},"min-height":"150","max-height":"150",cover:"",class:"bg-grey-lighten-2 align-end text-white"},{default:s(()=>[t(L,null,{default:s(()=>[w(k(e.Name),1)]),_:2},1024)]),_:2},1032,["src"]),t(z,{class:"pt-4"},{default:s(()=>[w(k(e.AdminName),1)]),_:2},1024),t(G,null,{default:s(()=>[t($,null,{default:s(()=>[w(k(e.TypName),1)]),_:2},1024),t($,{class:"ma-2",color:"red","text-color":"white"},{default:s(()=>[w(k(e.OpenText),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})],32)])],64)}}};export{ve as default};
