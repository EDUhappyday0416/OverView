import{A as K,r as n,i as W,z as X,k as o,o as _,c as b,g as t,b as p,s,F as x,e as C,B as Y,x as N,C as y,t as k}from"./index-098384d1.js";const Z=p("h4",{class:"pa-3"}," 自然步道 ",-1),ee={class:"text-right"},le={class:"d-flex justify-start"},te={class:"d-flex justify-start"},ne={__name:"HikingRrail",setup(ae){const w=K(),B=n([{title:"北部",value:"N",active:!1},{title:"中部",value:"C",active:!1},{title:"南部",value:"S",active:!1},{title:"西部",value:"E",active:!1}]),u=n([]),T=n([{title:"1000",value:1e3},{title:"2000",value:2e3},{title:"3000",value:3e3},{title:"4000",value:4e3}]),c=n([]),$=n(["新手","入門","中級","高手"]),F=n([]),U=n(""),g=n([]),I=n(!1),f=n(0),h=n([]),q=n([{title:"國家森林遊樂區",value:0},{title:"自然步道",value:1},{title:"平地森林園區",value:2},{title:"林業文化園區",value:10},{title:"林業軌道",value:11},{title:"自然教育中心",value:3},{title:"生態教育館",value:12}]),d=W();X(()=>{d.loading.show({delay:400,message:"請稍等..."}),w.getQueryForest(u.value,c.value,f.value,h.value).then(l=>{d.loading.hide(),g.value=l.data}).catch(l=>console.log(l))});const D=l=>{const{scrollHeight:a,scrollTop:i,clientHeight:m}=l.target;i+m>=a&&(d.loading.show({delay:400,message:"請稍等..."}),setTimeout(()=>{f.value+=1,w.getQueryForest(u.value,c.value,f.value,h.value).then(v=>{g.value=g.value.concat(v.data),d.loading.hide()}).catch(v=>{d.loading.hide(),console.log(v)})},1e3))},j=(l,a,i)=>{l.active?(l.active=!1,i==="place"?u.value=u.value.filter(m=>m!==l.value):i==="height"&&(c.value=c.value.filter(m=>m!==l.value))):(l.active=!0,i==="place"?u.value.push(l.value):i==="height"&&c.value.push(l.value)),P()},P=()=>{f.value=0,d.loading.show({delay:400,message:"請稍等..."}),w.getQueryForest(u.value,c.value,f.value,h.value,U.value).then(l=>{g.value=l.data,d.loading.hide()}).catch(l=>console.log(l))};return(l,a)=>{const i=o("v-divider"),m=o("v-btn"),v=o("v-select"),A=o("v-text-field"),E=o("v-card-text"),H=o("v-card"),M=o("v-dialog"),Q=o("q-btn"),R=o("v-card-title"),z=o("v-img"),L=o("v-card-subtitle"),S=o("v-chip"),O=o("v-card-actions"),G=o("v-col"),J=o("v-row");return _(),b(x,null,[Z,t(i,{class:"pa-3"}),p("div",null,[p("div",ee,[t(M,{modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value=e)},{activator:s(({props:e})=>[Y("",!0)]),default:s(()=>[t(H,null,{default:s(()=>[t(E,null,{default:s(()=>[t(v,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),items:B.value,label:"區域",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(v,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),items:T.value,"item-title":"title","items-value":"value",label:"高度(m)",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(v,{modelValue:F.value,"onUpdate:modelValue":a[2]||(a[2]=e=>F.value=e),items:$.value,label:"難度",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(v,{modelValue:h.value,"onUpdate:modelValue":a[3]||(a[3]=e=>h.value=e),items:q.value,label:"景點類型",multiple:"","persistent-hint":""},null,8,["modelValue","items"]),t(A,{modelValue:U.value,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value=e),label:"關鍵字"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),p("div",le,[(_(!0),b(x,null,C(B.value,(e,r)=>(_(),N(Q,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":V=>e.value=V,key:r,onClick:V=>j(e,r,"place"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),p("div",te,[(_(!0),b(x,null,C(T.value,(e,r)=>(_(),N(Q,{class:"ma-3",modelValue:e.value,"onUpdate:modelValue":V=>e.value=V,key:r,onClick:V=>j(e,r,"height"),"text-color":"black",color:e.active==!0?"secondary":"white",label:e.title},null,8,["modelValue","onUpdate:modelValue","onClick","color","label"]))),128))]),p("div",{onScroll:D,class:"forest"},[t(J,{"no-gutters":"",class:"d-flex justify-space-between"},{default:s(()=>[(_(!0),b(x,null,C(g.value,(e,r)=>(_(),N(G,{class:"ma-2",key:r,cols:"12",sm:"12",md:"3"},{default:s(()=>[t(H,{class:"mx-auto"},{default:s(()=>[t(z,{src:`https://recreation.forest.gov.tw/${e.Photo}`,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",style:{"object-fit":"cover"},"min-height":"150","max-height":"150",cover:"",class:"bg-grey-lighten-2 align-end text-white"},{default:s(()=>[t(R,null,{default:s(()=>[y(k(e.Name),1)]),_:2},1024)]),_:2},1032,["src"]),t(L,{class:"pt-4"},{default:s(()=>[y(k(e.AdminName),1)]),_:2},1024),t(O,null,{default:s(()=>[t(S,null,{default:s(()=>[y(k(e.TypName),1)]),_:2},1024),t(S,{class:"ma-2",color:"red","text-color":"white"},{default:s(()=>[y(k(e.OpenText),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})],32)])],64)}}};export{ne as default};
